# 图数据挖掘可视化系统-接口文档 V1.8

## 用户系统部分

表单数据中用户名叫username，密码叫pwd

### /api-register-verify

中文：

检查用户注册是否有重复，返回状态值

- 提交方法：POST
- 参数：

username：用户名，字符串形式

- 返回值：

int值，0或1

0代表有重复，不能进行注册；1代表无重复，可进行下一步注册填写信息操作



### /api-interest-given

中文：

随机返回十个研究兴趣供用户注册选择研究兴趣时用

- 提交方法：GET
- 返回值：

10个研究兴趣，如`['计算机','大数据','自动化'...] `



### /api-register-data

中文：

接受用户提交的注册信息，存入数据库中

- 提交方法：POST
- 参数：

**data：一个字典，包括username，pwd，interest，age，workplace**

其中三个分别为

interest：用户填写的科研兴趣方向，数组形式

age：年龄，int

workplace：所在院校，字符串形式

例如：data = {'username': admin, 'pwd':'123456789',interest': ['计算机','视觉'], 'age': 26, 'workplace': '北京大学'}

- 返回值：

注册成功，返回1；



### /api-login

中文：

登录接口，接受用户填写的用户名和密码

- 提交方法：POST
- 参数：

form：提交的表单

- 返回值：

如果登陆成功，则返回token；

用户名或密码错误，则返回空字符串`''`



### /api-login-verify

中文：

登陆状态验证接口

- 提交方法：POST
- 参数：

token：登录状态验证的一个字符串

username：用户名

- 返回值：

如果已登录，返回用户数据，形如`{'username': 'pz','interest': ['计算机','视觉'], 'age': 26, 'workplace': '北京大学'}`

如果未登录，返回空字典。如`{}`



### /api-ChangeInfo

中文：

在数据库中修改用户信息

- 提交方法：POST
- 参数：

form：提交的表单数据

包含username，pwd，interest，age，workplace

- 返回值：

修改成功，返回1；修改失败，返回0



## 主页面

`/`即为主页面



### /api-shown_nodes-data

中文：

主页面图中各结点的数据

- 提交方法：GET
- 返回值：一个列表，每个元素是每个节点的各项数据，其中包括

id：int型

connections：与该id有联系的结点列表，每个元素为int型

class：根据结点边数多少的分类，字符串，默认`class1`最大

形如

```
[{"id": 7758, "connection": [656, 596, 114, 36], "class": "class1"}, {"id": 3034, "connection": [5757, 999, 10000], "class": "class3"}]
```



### /api-id-data

中文：

获取一个结点的各项数据

- 提交方法：POST
- 参数：

id：节点的id

- 返回值：

一个字典，包含两项数据，研究方向，该结点的邻居数

形如：

```
{"interest": ["电气", "自动化", "计算机", "视觉"], "neighbour": 50}
```



---

下面的api用于可视化图

### /overview-data

中文：

获取总体概览情况

- 提交方法：GET
- 返回值：图的各项属性：图的总节点数（int值），总边数（int值），网络密度（float值），联通分支数（int值）

形如：`[10755, 588, 505.6216, 100]`

{'node_num': 10755, 'edge_num': 588, 'net_density': 505.6216, 'connected_component': 100}



### /hot_domain

中文：

热门研究领域的统计数据（柱状图）

- 提交方法：GET
- 返回值：一个字典，每个元素为热门领域以及研究学者数，共有10个热门领域

形如

```
{"计算机": 888, “软件工程”: 555, "自动化": 333, ...}
```



### /excellent_school

中文：

高校学者数的统计数据

- 提交方法：GET
- 返回值：一个字典，每个元素为高校及学者数，共有10个高校

形如

```
{"北京大学": 505, "清华大学": 396, "中国人民大学": 202, ...}
```



### /excellent_scholar

中文：

学者的影响因子的统计数据（气泡图展现）

- 提交方法：GET
- 返回值：一个字典，每个元素为学者的id及其影响因子，共有10个学者

形如

```
{7778: 256.6, 5588: 223.5, 233: 189.9, ...}
```



## 个人页

`/<id>`为个人页的url形式，如`/8`即进入了id为8的学者的个人页



### /root-data

中文：

获取根节点的数据

- 提交方法：POST
- 参数：节点id
- 返回值：根节点的数据

形如

```
{"id": 5,"interest": ['计算机', '大数据安全', ...], "connection": [5, 999, 3235, ...]}
```



### /ori-connections

中文：

根节点已有的联系结点及其相关的研究兴趣

- 提交方法：POST
- 参数：节点id
- 返回值：一个字典

形如

```
{5: ['计算机', '大数据安全', ...], 999: ['自动化', '大数据安全'], ...}
```



### /predict-connections

中文：

预测出可能与根节点有关系的节点

- 提交方法：POST
- 参数： 节点id
- 返回值：一个字典

形式同`/ori-connections`

